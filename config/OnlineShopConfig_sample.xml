<?xml version="1.0"?>
<zend-config xmlns:zf="http://framework.zend.com/xml/zend-config-xml/1.0/">
    <onlineshop>

        <environment class="OnlineShop_Framework_Impl_Environment">
            <config>
            </config>
        </environment>

        <cartmanager class="OnlineShop_Framework_Impl_MultiCartManager">
            <config>
                <cart class="OnlineShop_Framework_Impl_Cart"/>

                <pricecalcualtor class="OnlineShop_Framework_Impl_CartPriceCalculator">
                    <config>
                        <modificators>
                            <!--<shipping class="OnlineShop_Framework_Impl_CartPriceModificatorShipping"/>-->
                        </modificators>
                    </config>
                </pricecalcualtor>
            </config>
        </cartmanager>

        <pricesystems>
            <!-- Define one or more price systems. The products getPriceSystemName method need to return a name here defined -->
            <pricesystem name="default" class="OnlineShop_Framework_Impl_AttributePriceSystem"/>
        </pricesystems>
        <availablitysystems>
            <!-- Define one or more availability systems. The products getAvailabilitySystemName method need to return a name here defined -->
            <availablitysystem name="default" class="OnlineShop_Framework_Impl_AttributeAvailabilitySystem"/>
        </availablitysystems>
        <checkoutmanager class="OnlineShop_Framework_Impl_CheckoutManager">
            <config>
                <steps>
                    <deliveryaddress class="OnlineShop_Framework_Impl_Checkout_DeliveryAddress"/>
                    <deliverydate class="OnlineShop_Framework_Impl_Checkout_DeliveryDate"/>
                </steps>
                <commitorderprocessor class="OnlineShop_Framework_Impl_CommitOrderProcessor"/>
                <orderstorage orderClass="Object_OnlineShopOrder" orderItemClass="Object_OnlineShopOrderItem"/>
                <mails confirmation="/emails/order-confirmation" inquiry="/emails/inquiry-confirmation" activation="/emails/order-activation" dealer="/emails/order-dealer" printer="/emails/order-print"/>
                <parentorderfolder>7707</parentorderfolder>
            </config>
        </checkoutmanager>

        <productindex>
            <!-- add columns for general fulltext search index of productlist - they must be part of the column configuration below -->
            <generalSearchColumns>
                <column name="name"/>
                <column name="seoname"/>
                <column name="description"/>
                <column name="ean"/>
                <column name="artno"/>
            </generalSearchColumns>

            <!-- column definition for product index -->
            <columns>
                <column name="name" type="varchar(255)" locale="de"/>
                <column name="seoname" type="varchar(255)"/>
                <column name="description" type="longtext"/>
                <column name="ean" type="varchar(255)"/>
                <column name="artno" type="varchar(255)"/>
                <column name="gender" type="varchar(100)" />
                <column name="color" type="varchar(255)" />
                <column name="size" type="varchar(255)" />
                <column name="price" type="DOUBLE" />
                <column name="foottype" type="varchar(255)" getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetterSequence">
                    <config>
                        <source brickfield="specificAttributes" bricktype="shoe" fieldname="footTypes"/>
                    </config>
                </column>
                <column name="gaittype" type="varchar(255)" getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetterSequence">
                    <config>
                        <source brickfield="specificAttributes" bricktype="shoe" fieldname="gaitTypes"/>
                    </config>
                </column>
                <column name="fittings" type="varchar(255)" getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetterSequence">
                    <config>
                        <source brickfield="specificAttributes" bricktype="apparel" fieldname="fittings"/>
                    </config>
                </column>
                <column name="zips" type="varchar(255)" getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetterSequence">
                    <config>
                        <source brickfield="specificAttributes" bricktype="apparel" fieldname="zips"/>
                    </config>
                </column>

                <column name="approvals" type="varchar(255)" getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetterSequenceToMultiselect">
                    <config>
                        <source brickfield="specificAttributes" bricktype="approvals" fieldname="fifaApproved"/>
                        <source brickfield="specificAttributes" bricktype="approvals" fieldname="fifaInspected"/>
                        <source brickfield="specificAttributes" bricktype="approvals" fieldname="imsChecked"/>
                        <source brickfield="specificAttributes" bricktype="approvals" fieldname="ihfApproved"/>
                    </config>
                </column>

                <column name="rating" type="DOUBLE" interpreter="OnlineShop_IndexService_Interpreter_Round"/>

                <column name="features" interpreter="OnlineShop_Framework_IndexService_Interpreter_DefaultObjects" />
                <column name="attributes" interpreter="OnlineShop_Framework_IndexService_Interpreter_DefaultObjects" />
                <column name="technologies" interpreter="OnlineShop_Framework_IndexService_Interpreter_DefaultObjects" />


                <column name="metaattributes" type="varchar(255)"  getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetterSequenceToMultiselect">
                    <config>
                        <source fieldname="al" forceBool="true"/>
                        <source fieldname="ok" forceBool="true"/>
                    </config>
                </column>

                <!-- columns only for similarity calculation - are not shown in default column selector fields -->
                <column name="simularity_color" fieldname="color" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_Soundex" />
                <column name="simularity_gender" fieldname="gender" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_Soundex" />
                <column name="simularity_category" fieldname="categories" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />
                <column name="simularity_feature" fieldname="features" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />
                <column name="simularity_technolgy" fieldname="technologies" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />
                <column name="simularity_attributes" fieldname="attributes" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />
            </columns>

            <!-- configuration of different tenants -->
            <tenants>
                <sampletenant class="OnlineShop_Framework_IndexService_Tenant_DefaultSubTenantConfig">
                    <generalSearchColumns>
                        <column name="name"/>
                        <column name="shortDescription"/>
                    </generalSearchColumns>
                    <columns>
                        <column name="name" type="varchar(255)" />
                        <column name="shortDescription" type="varchar(255)" />
                        <column name="supplierRemoteId" type="varchar(255)"/>
                        <column name="mainImage" type="int" interpreter="OnlineShop_Framework_IndexService_Interpreter_AssetId"/>

                        <column name="hardDiskDriveCapacity" type="DOUBLE"
                                getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter"
                                interpreter="OnlineShop_Framework_IndexService_Interpreter_DimensionUnitField">
                            <config brickfield="specialFeatures" bricktype="Memory" fieldname="hardDiskDriveCapacity"/>
                        </column>
                    </columns>

                </sampletenant>
                <testtenant2 class="OnlineShop_Framework_IndexService_Tenant_DefaultConfigInheritColumnConfig">
                </testtenant2>
            </tenants>

        </productindex>

        <!-- assign backend implementations and views to filter type field collections -->
        <filtertypes>
            <FilterNumberRange class="OnlineShop_Framework_FilterService_NumberRange" script="/sample/filters/range.php"/>
            <FilterNumberRangeSelection class="OnlineShop_Framework_FilterService_NumberRangeSelection" script="/product/filters/price.php"/>
            <FilterSelect class="OnlineShop_Framework_FilterService_Select" script="/product/filters/select.php"/>
            <FilterMultiSelect class="OnlineShop_Framework_FilterService_MultiSelect" script="/sample/filters/multiselect.php"/>
            <FilterMultiRelation class="OnlineShop_Framework_FilterService_MultiSelectRelation" script="/sample/filters/multiselect-relation.php"/>
            <FilterCategory class="OnlineShop_Framework_FilterService_SelectCategory" script="/product/filters/select.php"/>
            <FilterSelectFromMultiSelect class="OnlineShop_Framework_FilterService_SelectFromMultiSelect" script="/product/filters/select.php"/>
            <FilterRelation class="OnlineShop_Framework_FilterService_SelectRelation" script="/product/filters/object_relation.php"/>
        </filtertypes>

    </onlineshop>
</zend-config>
