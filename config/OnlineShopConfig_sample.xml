<?xml version="1.0"?>
<zend-config xmlns:zf="http://framework.zend.com/xml/zend-config-xml/1.0/">
    <onlineshop>

        <environment class="OnlineShop_Framework_Impl_Environment">
            <config>
                <config defaultlocale="en_GB" />
            </config>
        </environment>

        <cartmanager class="OnlineShop_Framework_Impl_MultiCartManager">
            <config>
                <cart class="OnlineShop_Framework_Impl_Cart">
                    <guest class="OnlineShop_Framework_Impl_SessionCart"/>
                </cart>

                <pricecalcualtor class="OnlineShop_Framework_Impl_CartPriceCalculator">
                    <config>
                        <modificators>
                            <shipping class="OnlineShop_Framework_Impl_CartPriceModificator_Shipping">
                                <config charge="55.90"/>
                            </shipping>
                        </modificators>
                    </config>
                </pricecalcualtor>
            </config>
        </cartmanager>

        <pricesystems>
            <!-- Define one or more price systems. The products getPriceSystemName method need to return a name here defined -->
            <pricesystem name="default" class="OnlineShop_Framework_Impl_AttributePriceSystem">
                <config attributename="price" />
            </pricesystem>

            <pricesystem name="defaultOfferToolPriceSystem" class="OnlineShop_Framework_Impl_AttributePriceSystem">
                <config attributename="price" />
            </pricesystem>

        </pricesystems>

        <availablitysystems>
            <!-- Define one or more availability systems. The products getAvailabilitySystemName method need to return a name here defined -->
            <availablitysystem name="default" class="OnlineShop_Framework_Impl_AttributeAvailabilitySystem"/>
        </availablitysystems>

        <checkoutmanager class="OnlineShop_Framework_Impl_CheckoutManager">
            <config>
                <steps>
                    <deliveryaddress class="OnlineShop_Framework_Impl_Checkout_DeliveryAddress"/>
                    <confirm class="Website_OnlineShop_Checkout_Confirm"/>
                </steps>
                <payment class="OnlineShop_Framework_Impl_Checkout_Payment_QPay" mode="dev">
                    <dev>
                        <secret>B8AKTPWBRMNBV455FG6M2DANE99WU2</secret>
                        <customer>D200001</customer>
                    </dev>
                    <live>
                        <secret></secret>
                        <customer></customer>
                    </live>
                </payment>
                <!--<payment class="OnlineShop_Framework_Impl_Checkout_Payment_PayPal" mode="sandbox">
                    <sandbox>
                        <api_username>paypal-facilitator_api1.i-2xdream.de</api_username>
                        <api_password>1375366858</api_password>
                        <api_signature>AT2PJj7VTo5Rt.wM6enrwOFBoD1fACBe1RbAEMsSshWFRhpvjAuPR8wD</api_signature>
                    </sandbox>
                </payment>-->
                <commitorderprocessor class="Website_OnlineShop_Order_Processor"/>
                <orderstorage orderClass="Object_OnlineShopOrder" orderItemClass="Object_OnlineShopOrderItem"/>
                <mails confirmation="/en/emails/order-confirmation"
                       inquiry="/emails/inquiry-confirmation"
                       activation="/emails/order-activation"
                       dealer="/emails/order-dealer"
                       printer="/emails/order-print"/>
                <parentorderfolder>11166</parentorderfolder>
            </config>
        </checkoutmanager>

        <productindex>
            <!-- add columns for general fulltext search index of productlist - they must be part of the column configuration below -->
            <generalSearchColumns>
                <column name="name"/>
                <column name="seoname"/>
                <column name="color" />
            </generalSearchColumns>

            <!-- column definition for product index -->
            <columns>
                <column name="name" type="varchar(255)" locale="en_GB" filtergroup="string"/>
                <column name="seoname" type="varchar(255)" filtergroup="string"/>
                <column name="color" type="varchar(255)" filtergroup="multiselect" />
                <column name="gender" type="varchar(100)" filtergroup="multiselect"/>
                <column name="features" interpreter="OnlineShop_Framework_IndexService_Interpreter_DefaultObjects" filtergroup="relation" />
                <column name="technologies" interpreter="OnlineShop_Framework_IndexService_Interpreter_DefaultObjects" filtergroup="relation" />


                <column name="tentTentPegs" type="varchar(50)"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="tentSpecifications" fieldname="tentPegs"/>
                </column>
                <column name="tentWaterproofRain" type="varchar(50)"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="tentSpecifications" fieldname="waterproofRain"/>
                </column>
                <column name="tentWaterproofGround" type="varchar(50)"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="tentSpecifications" fieldname="waterproofGround"/>
                </column>


                <column name="rucksacksVolume" type="double" interpreter="OnlineShop_Framework_IndexService_Interpreter_Numeric"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="rucksackSpecs" fieldname="volume"/>
                </column>
                <column name="rucksacksWeight" type="double" interpreter="OnlineShop_Framework_IndexService_Interpreter_Numeric"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="rucksackSpecs" fieldname="weight"/>
                </column>
                <column name="rucksacksLoad" type="double" interpreter="OnlineShop_Framework_IndexService_Interpreter_Numeric"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="rucksackSpecs" fieldname="load"/>
                </column>


                <column name="matsWidth" type="double"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="matsSpecs" fieldname="width"/>
                </column>
                <column name="matsLength" type="double"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="matsSpecs" fieldname="length"/>
                </column>
                <column name="matsHeight" type="double"
                        getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter" filtergroup="string">
                    <config brickfield="specificAttributes" bricktype="matsSpecs" fieldname="height"/>
                </column>



                <column name="simularity_color" fieldname="color" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_Soundex" />
                <column name="simularity_gender" fieldname="gender" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_Soundex" />
                <column name="simularity_category" fieldname="categories" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />
                <column name="simularity_feature" fieldname="features" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />
                <column name="simularity_technolgy" fieldname="technologies" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />
                <column name="simularity_attributes" fieldname="attributes" hideInFieldlistDatatype="true" type="INTEGER" interpreter="OnlineShop_Framework_IndexService_Interpreter_ObjectIdSum" />

            </columns>

            <!-- configuration of different tenants -->
            <tenants>
                <!--  <sampletenant class="OnlineShop_Framework_IndexService_Tenant_DefaultSubTenantConfig" file="/website/var/plugins/OnlineShop/sampletenant.xml">

                      <generalSearchColumns>
                          <column name="name"/>
                          <column name="shortDescription"/>
                      </generalSearchColumns>
                      <columns>
                          <column name="name" type="varchar(255)" />
                          <column name="shortDescription" type="varchar(255)" />
                          <column name="supplierRemoteId" type="varchar(255)"/>
                          <column name="mainImage" type="int" interpreter="OnlineShop_Framework_IndexService_Interpreter_AssetId"/>

                          <column name="hardDiskDriveCapacity" type="DOUBLE"
                                  getter="OnlineShop_Framework_IndexService_Getter_DefaultBrickGetter"
                                  interpreter="OnlineShop_Framework_IndexService_Interpreter_DimensionUnitField">
                              <config brickfield="specialFeatures" bricktype="Memory" fieldname="hardDiskDriveCapacity"/>
                          </column>
                      </columns>
                  </sampletenant>-->
                <!--<testtenant2 class="OnlineShop_Framework_IndexService_Tenant_DefaultConfigInheritColumnConfig">
                </testtenant2>-->
            </tenants>

        </productindex>

        <!-- assign backend implementations and views to filter type field collections -->
        <filtertypes helper="OnlineShop_Framework_FilterService_FilterGroupHelper">
            <FilterNumberRange class="OnlineShop_Framework_FilterService_NumberRange" script="/shop/filters/range.php"/>
            <FilterNumberRangeSelection class="OnlineShop_Framework_FilterService_NumberRangeSelection" script="/shop/filters/numberrange.php"/>
            <FilterSelect class="OnlineShop_Framework_FilterService_Select" script="/shop/filters/select.php"/>
            <FilterSelectFromMultiSelect class="OnlineShop_Framework_FilterService_SelectFromMultiSelect" script="/shop/filters/select.php"/>
            <FilterMultiSelect class="OnlineShop_Framework_FilterService_MultiSelect" script="/shop/filters/multiselect.php"/>
            <FilterMultiSelectFromMultiSelect class="OnlineShop_Framework_FilterService_MultiSelectFromMultiSelect" script="/shop/filters/multiselect.php"/>
            <FilterMultiRelation class="OnlineShop_Framework_FilterService_MultiSelectRelation" script="/shop/filters/multiselect-relation.php"/>
            <FilterCategory class="OnlineShop_Framework_FilterService_SelectCategory" script="/shop/filters/select_category.php"/>
            <FilterRelation class="OnlineShop_Framework_FilterService_SelectRelation" script="/shop/filters/object_relation.php"/>
        </filtertypes>

        <!-- pricing manager -->
        <pricingmanager class="OnlineShop_Framework_Impl_PricingManager">
            <config>
                <!-- rule and priceinfo -->
                <rule class="OnlineShop_Framework_Impl_Pricing_Rule" />
                <priceInfo class="OnlineShop_Framework_Impl_Pricing_PriceInfo" />

                <!-- rule conditions -->
                <condition>
                    <Bracket class="OnlineShop_Framework_Impl_Pricing_Condition_Bracket" />
                    <DateRange class="OnlineShop_Framework_Impl_Pricing_Condition_DateRange" />
                    <CartAmount class="OnlineShop_Framework_Impl_Pricing_Condition_CartAmount" />
                    <CatalogProduct class="OnlineShop_Framework_Impl_Pricing_Condition_CatalogProduct" />
                    <CatalogCategory class="OnlineShop_Framework_Impl_Pricing_Condition_CatalogCategory" />
                </condition>

                <!-- rule actions -->
                <action>
                    <ProductDiscount class="OnlineShop_Framework_Impl_Pricing_Action_ProductDiscount" />
                    <CartDiscount class="OnlineShop_Framework_Impl_Pricing_Action_CartDiscount" />
                    <Gift class="OnlineShop_Framework_Impl_Pricing_Action_Gift" />
                    <FreeShipping class="OnlineShop_Framework_Impl_Pricing_Action_FreeShipping" />
                </action>

            </config>
        </pricingmanager>

        <!-- Offertool -->
        <offertool class="OnlineShop_OfferTool_Impl_DefaultService">
            <orderstorage offerClass="Object_OfferToolOffer" offerItemClass="Object_OfferToolOfferItem" parentFolderPath="/offertool/offers/%Y/%m"/>
        </offertool>

    </onlineshop>
</zend-config>
